<div class="form-group">
  <%= f.label :name, 'Name' %>
  <%= f.text_field :name, required: true, aria_required: true, class: 'form-control' %>
</div>

<div class="form-group">
  <%= f.label :email, 'Email' %>
  <%= f.email_field :email, required: true, aria_required: true, class: 'form-control' %>
</div>

<div class="form-group">
  <%= f.label :password, 'Password' %>
  <%= f.password_field :password, required: true, aria_required: true, class: 'form-control', id: 'password' %>
</div>

<div class="form-group">
  <%= f.label :password_confirmation, 'Confirm Password' %>
  <%= f.password_field :password_confirmation, required: true, aria_required: true, class: 'form-control', id: 'confirm-password' %>
  <small id="password-match-message" class="text-danger" style="display: none;">Passwords do not match</small>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const passwordField = document.getElementById('password');
    const confirmPasswordField = document.getElementById('confirm-password');
    const message = document.getElementById('password-match-message');

    function validatePasswordMatch() {
      if (confirmPasswordField.value && confirmPasswordField.value !== passwordField.value) {
        message.style.display = 'block';
        confirmPasswordField.style.borderColor = 'darkred';
      } else {
        message.style.display = 'none';
        confirmPasswordField.style.borderColor = '';
      }
    }

    passwordField.addEventListener('input', validatePasswordMatch);
    confirmPasswordField.addEventListener('input', validatePasswordMatch);
  });
</script>
