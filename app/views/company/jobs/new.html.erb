<h2>Post a New Job</h2>

<%= form_with model: @job, url: company_jobs_path, local: true, method: :post do |form| %>
  <div class="mb-3">
    <%= form.label :title, "Job Title" %>
    <%= form.text_field :title, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :address, "Job Address" %>
    <%= form.text_field :address, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :city, "City" %>
    <%= form.text_field :city, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :job_description, "Job Description" %>
    <%= form.text_area :job_description, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :responsibilities, "Responsibilities" %>
    <%= form.text_area :responsibilities, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :requirements, "Requirements" %>
    <%= form.text_area :requirements, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :experience, "Required Experience (years)" %>
    <%= form.number_field :experience, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :salary, "Salary" %>
    <%= form.number_field :salary, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :qualification, "Qualifications" %>
    <%= form.text_area :qualification, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :job_type, "Job Type" %>
    <%= form.select :job_type, Job.job_types.keys.map { |type| [type.titleize, type] }, {}, class: "form-select", required: true %>
  </div>
    
  <% if @job.errors.any? %>
        <div class="alert alert-danger">
            <h4>Errors:</h4>
            <ul>
                <% @job.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                <% end %>
            </ul>
        </div>
  <% end %>

  <%= form.submit "Post Job", class: "btn btn-primary" %>
<% end %>
